stages:
  - test
  - build
  - deploy

.test project: 
  stage: test
  image: node:19
  script: 
      - npm install
      - npm build

build project: 
  stage: build
  image: node:19
  script: 
      - npm install
      - npm test
      - npm build
  artifacts: 
    paths: 
      - build/


netlify:
  stage: deploy
  image: node:19
  script: 
      - npm install -g netlify-cli
      - netlify deploy --dir=build --prod

